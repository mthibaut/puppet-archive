# vim:fenc=utf-8:et:sw=4:ts=4:sts=4
Puppet::Type.newtype(:archive) do
    include Puppet::Util

    @doc = "Ensure archival or unarchival of a set of directories."

    ensurable do
        newvalues(:unpacked, :unarchived) do
            provider.unpack
        end
        newvalues(:packed, :archived) do
            provider.pack
        end
    end

    newparam(:name, :isnamevar => true) do
        #desc "The URI of the archive."
    end

    newparam(:cwd, :parent => Puppet::Parameter::Path) do
        #desc "The directory from which to run the command.  If you supply
        #this directory but it does not exist, the command will fail."
        defaultto "/"
    end

    newparam(:creates, :parent => Puppet::Parameter::Path) do
        #desc "A file or directory created by unpacking the archive.  If 
        #this file exists on disk, the unarchival will not be performed.
        #Note: if unpacking is successful but fails to create this file,
        #it will be created anyway. This allows consistent behavior with
        #other types using the 'creates' parameter (such as exec)."
    end

    newparam(:options, :parent => Puppet::Parameter::Value) do
        #desc "Options to pass to the provider."
    end
end
